<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_10) on Tue Jan 15 08:41:47 PST 2013 -->
<title>CounterToRateMetricTransform (servo-core 0.4.32-SNAPSHOT API)</title>
<meta name="date" content="2013-01-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CounterToRateMetricTransform (servo-core 0.4.32-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/netflix/servo/publish/CompositeMetricPoller.html" title="class in com.netflix.servo.publish"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/netflix/servo/publish/FileMetricObserver.html" title="class in com.netflix.servo.publish"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/netflix/servo/publish/CounterToRateMetricTransform.html" target="_top">Frames</a></li>
<li><a href="CounterToRateMetricTransform.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.netflix.servo.publish</div>
<h2 title="Class CounterToRateMetricTransform" class="title">Class CounterToRateMetricTransform</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.netflix.servo.publish.CounterToRateMetricTransform</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/netflix/servo/publish/MetricObserver.html" title="interface in com.netflix.servo.publish">MetricObserver</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="strong">CounterToRateMetricTransform</span>
extends java.lang.Object
implements <a href="../../../../com/netflix/servo/publish/MetricObserver.html" title="interface in com.netflix.servo.publish">MetricObserver</a></pre>
<div class="block">Converts counter metrics into a rate per second. The rate is calculated by
 comparing two samples of given metric and looking at the delta. Since two
 samples are needed to calculate the rate, no value will be sent to the
 wrapped observer until a second sample arrives. If a given metric is not
 updated within a given heartbeat interval, the previous cached value for the
 counter will be dropped such that if a new sample comes in it will be
 treated as the first sample for that metric.

 <p>Counters should be monotonically increasing values. If a counter value
 decreases from one sample to the next, then we will assume the counter value
 was reset and send a rate of 0. This is similar to the RRD concept of
 type DERIVE with a min of 0.

 <p>This class is not thread safe and should generally be wrapped by an async
 observer to prevent issues.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/netflix/servo/publish/CounterToRateMetricTransform.html#CounterToRateMetricTransform(com.netflix.servo.publish.MetricObserver, long, java.util.concurrent.TimeUnit)">CounterToRateMetricTransform</a></strong>(<a href="../../../../com/netflix/servo/publish/MetricObserver.html" title="interface in com.netflix.servo.publish">MetricObserver</a>&nbsp;observer,
                            long&nbsp;heartbeat,
                            java.util.concurrent.TimeUnit&nbsp;unit)</code>
<div class="block">Creates a new instance with the specified heartbeat interval.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../com/netflix/servo/publish/CounterToRateMetricTransform.html#getName()">getName</a></strong>()</code>
<div class="block">Name associated with an observer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/netflix/servo/publish/CounterToRateMetricTransform.html#reset()">reset</a></strong>()</code>
<div class="block">Clear all cached state of previous counter values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/netflix/servo/publish/CounterToRateMetricTransform.html#update(java.util.List)">update</a></strong>(java.util.List&lt;<a href="../../../../com/netflix/servo/Metric.html" title="class in com.netflix.servo">Metric</a>&gt;&nbsp;metrics)</code>
<div class="block">Invoked with the most recent values for a set of metrics.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CounterToRateMetricTransform(com.netflix.servo.publish.MetricObserver, long, java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CounterToRateMetricTransform</h4>
<pre>public&nbsp;CounterToRateMetricTransform(<a href="../../../../com/netflix/servo/publish/MetricObserver.html" title="interface in com.netflix.servo.publish">MetricObserver</a>&nbsp;observer,
                            long&nbsp;heartbeat,
                            java.util.concurrent.TimeUnit&nbsp;unit)</pre>
<div class="block">Creates a new instance with the specified heartbeat interval. The
 heartbeat should be some multiple of the sampling interval used when
 collecting the metrics.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">Name associated with an observer. Mostly used to make log messages more
 informative.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/netflix/servo/publish/MetricObserver.html#getName()">getName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/netflix/servo/publish/MetricObserver.html" title="interface in com.netflix.servo.publish">MetricObserver</a></code></dd>
</dl>
</li>
</ul>
<a name="update(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(java.util.List&lt;<a href="../../../../com/netflix/servo/Metric.html" title="class in com.netflix.servo">Metric</a>&gt;&nbsp;metrics)</pre>
<div class="block">Invoked with the most recent values for a set of metrics.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/netflix/servo/publish/MetricObserver.html#update(java.util.List)">update</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/netflix/servo/publish/MetricObserver.html" title="interface in com.netflix.servo.publish">MetricObserver</a></code></dd>
</dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block">Clear all cached state of previous counter values.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/netflix/servo/publish/CompositeMetricPoller.html" title="class in com.netflix.servo.publish"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/netflix/servo/publish/FileMetricObserver.html" title="class in com.netflix.servo.publish"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/netflix/servo/publish/CounterToRateMetricTransform.html" target="_top">Frames</a></li>
<li><a href="CounterToRateMetricTransform.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
